<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width,initial-scale=1"/>
  <title>MotoLog - Bikes</title>
  <link rel="stylesheet" href="{{ url_for('static', filename='css/styles.css') }}">
</head>
<body>
  <div class="dashboard-container">
    {% include '_navbar.html' %}

    <div style="margin:1.5rem auto; max-width:1000px;">
      <div style="display:flex; justify-content:space-between; align-items:center; margin-bottom:1rem;">
        <h2>Your Bikes</h2>
        <a class="btn" href="/add-bike">+ Add Bike</a>
      </div>

      {% if bikes %}
        <div style="display:grid; gap:1rem;">
          {% for bike in bikes %}
            <div class="stat-card" style="display:flex; justify-content:space-between; align-items:center;">
              <div style="display:flex; gap:1rem; align-items:center;">
                <div style="width:120px; height:80px; overflow:hidden; border-radius:8px; background:#f0f2f5;">
                  {% if bike['image'] %}
                    <img src="{{ bike['image'] }}" style="width:100%; height:100%; object-fit:cover;">
                  {% else %}
                    <div style="width:100%;height:100%;display:flex;align-items:center;justify-content:center;color:#999;">No image</div>
                  {% endif %}
                </div>
                <div>
                  <h3 style="margin-bottom:0.25rem;">{{ bike['name'] }} {% if bike['year'] %}â€¢ {{ bike['year'] }}{% endif %}</h3>
                  <div style="color:#666;">{{ bike['make_model'] or '-' }}</div>
                  <div style="color:#888; margin-top:0.5rem;">Odometer: {{ bike['odo'] or 0 }} km</div>
                </div>
              </div>
              <div style="display:flex; gap:0.5rem;">
                <a class="btn btn-secondary" href="/edit-bike/{{ bike['id'] }}">Edit</a>
                <a class="btn btn-secondary" href="/bike/{{ bike['id'] }}/maintenance">Maintenance</a>
                <a class="btn btn-secondary" href="/delete-bike/{{ bike['id'] }}" onclick="return confirm('Delete bike?')">Delete</a>
              </div>
            </div>
          {% endfor %}
        </div>
      {% else %}
        <p class="empty-message">No bikes yet. Add your first bike.</p>
      {% endif %}
    </div>
  </div>
</body>
</html>